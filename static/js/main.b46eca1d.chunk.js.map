{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","services/api.js","components/ErrorMessage/ErrorMessage.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","handleClickImage","e","props","openModal","target","dataset","large","this","webformatURL","largeImageURL","tags","className","s","onClick","src","alt","ImageGalleryItem_image","React","Component","ImageGallery","images","map","id","Searchbar","state","imageName","handleSubmit","event","preventDefault","trim","onSubmit","setState","toast","error","handleNameChange","currentTarget","value","toLowerCase","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","placeholder","onChange","API_KEY","URL","api","fetchImage","query","page","fetch","then","response","json","ErrorMessage","message","text","Button","modalRoot","document","querySelector","Modal","onKeyDown","code","onClose","onBackdropClick","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","searchQuery","showModal","total","largeURL","status","fetchImages","hits","nextFetchImages","prevState","scrollTo","top","documentElement","scrollHeight","behavior","handleFormSubmit","handleIncrement","toggleModal","url","prevProps","color","height","width","autoClose","ReactDOM","render"],"mappings":"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","file":"static/js/main.b46eca1d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__aP9ZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends React.Component {\n  handleClickImage = (e) => {\n    this.props.openModal(e.target.dataset.large);\n  };\n\n  render() {\n    const { webformatURL, largeImageURL, tags = \"image\" } = this.props;\n\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          onClick={this.handleClickImage}\n          src={webformatURL}\n          alt={tags}\n          className={s.ImageGalleryItem_image}\n          data-large={largeImageURL}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              openModal={openModal}\n              largeImageURL={largeImageURL}\n              tags={tags}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends React.Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    imageName: \"\",\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.imageName.trim() === \"\") {\n      toast.error(\"Please, enter picture name\");\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n  };\n  handleNameChange = (event) => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleNameChange}\n            value={this.state.imageName}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","const API_KEY = \"23033623-b70795456acd26c564a94f9ff\";\nconst URL = \"https://pixabay.com/api/\";\n\nconst fetchImage = (query, page = 1) => {\n  return fetch(\n    `${URL}/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    return response.json();\n  });\n};\nconst api = {\n  fetchImage,\n};\nexport default api;\n","import PropTypes from \"prop-types\";\nimport s from \"./ErrorMessage.module.css\";\n\nconst ErrorMessage = ({ message }) => {\n  return <p className={s.text}>{message}</p>;\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button className={s.Button} type=\"button\" onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  }\n\n  onKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  onBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div onClick={this.onBackdropClick} className={s.Overlay}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Searchbar from \"./components/Searchbar\";\nimport api from \"./services/api\";\nimport ErrorMessage from \"./components/ErrorMessage\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nclass App extends React.Component {\n  state = {\n    searchQuery: \"\",\n    images: null,\n    page: 1,\n    showModal: false,\n    error: null,\n    total: null,\n    largeURL: \"\",\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ status: \"pending\" });\n\n      this.fetchImages(searchQuery, page);\n    }\n\n    if (prevState.page !== page && page !== 1) {\n      this.nextFetchImages(searchQuery, page);\n    }\n  }\n\n  fetchImages = (searchQuery, page) => {\n    api.fetchImage(searchQuery, page).then(({ hits, total }) => {\n      this.setState({ images: hits, total, status: \"resolved\" });\n\n      if (!total) {\n        this.setState({\n          error: \"No results found\",\n          status: \"rejected\",\n        });\n      } else {\n        this.setState({ error: null });\n      }\n    });\n  };\n\n  nextFetchImages = (searchQuery, page) => {\n    api.fetchImage(searchQuery, page).then(({ hits }) => {\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...hits],\n      }));\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    });\n  };\n\n  handleFormSubmit = (searchQuery) => {\n    this.setState({\n      searchQuery,\n      page: 1,\n    });\n  };\n\n  handleIncrement = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  toggleModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeURL: url,\n    }));\n  };\n\n  render() {\n    const { error, status, total, showModal, largeURL, images } = this.state;\n\n    return (\n      <>\n        <div className=\"App\">\n          <Searchbar onSubmit={this.handleFormSubmit} />\n\n          {status === \"rejected\" && <ErrorMessage message={error} />}\n\n          {status === \"resolved\" && (\n            <ImageGallery images={images} openModal={this.toggleModal} />\n          )}\n\n          {status === \"pending\" && (\n            <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n          )}\n\n          {total > 0 && <Button onClick={this.handleIncrement} />}\n\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={largeURL} alt=\"\" />\n            </Modal>\n          )}\n        </div>\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3eKQ3\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};"],"sourceRoot":""}